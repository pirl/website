!function(h){"use strict";h.notificationXProPublic=h.notificationXProPublic||{},h(document).ready(function(){h.notificationXProPublic.init(),h.notificationXProPublic.pressbar()}),h.notificationXProPublic.pressbar=function(){var e=h(".nx-bar");0<e.length&&e.each(function(e,t){var o,n,i,r=t.dataset.press_id,a=new Date,s=parseInt(t.dataset.eg_expire_in),c=Boolean(parseInt(t.dataset.time_randomize)),d=parseInt(t.dataset.duration_timestamp),_=Boolean(parseInt(t.dataset.time_reset)),f=!!t.dataset.start_date&&new Date(t.dataset.start_date),l=!!t.dataset.end_date&&new Date(t.dataset.end_date),u=Boolean(t.dataset.evergreen);if(_&&Cookies.get("nx_evergreen_first_seen_"+r)&&(n=new Date(Cookies.get("nx_evergreen_first_seen_"+r))).getDate()!==a.getDate()&&(Cookies.clear("nx_evergreen_first_seen_"+r),Cookies.clear("nx_evergreen_first_seen_time_"+r),Cookies.clear("notificationx_nx-bar-"+r)),Cookies.get("notificationx_nx-bar-"+r))return!1;u&&(o=0,o=(n=(Cookies.get("nx_evergreen_first_seen_"+r)||Cookies.set("nx_evergreen_first_seen_"+r,a),new Date(Cookies.get("nx_evergreen_first_seen_"+r))),parseInt(n.getTime())+s),l=new Date(o),c&&(Cookies.get("nx_evergreen_first_seen_"+r)||Cookies.set("nx_evergreen_first_seen_"+r,new Date),Cookies.get("nx_evergreen_first_seen_time_"+r)?d=parseInt(Cookies.get("nx_evergreen_first_seen_time_"+r)):Cookies.set("nx_evergreen_first_seen_time_"+r,d),n=new Date(Cookies.get("nx_evergreen_first_seen_"+r)),i=parseInt(n.getTime())+d,l=i=new Date(i)));var g={id:r,bar:t,end_date:l,evergreen:u,start_date:f,days:t.querySelector(".nx-days"),hours:t.querySelector(".nx-hours"),minutes:t.querySelector(".nx-minutes"),seconds:t.querySelector(".nx-seconds")};h.notificationx.countdownWrapper(g)})},h.notificationXProPublic.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},h.notificationXProPublic.init=function(){h.notificationXProPublic.sound();var e,t,o=h(".notificationx-shortcode-wrapper");0<o.length&&(e=h(".notificationx-shortcode-wrapper > div:first").outerHeight(),o.css("height",e),t=o.data("config"),h("html").removeClass("has-nx-bar"),h.notificationXProPublic.shortcodeRender(t,o.html()))},h.notificationXProPublic.sound=function(){h("body").on("nx_frontend_jquery",function(e,t,o){var n,i;"1"==t.sound&&((n=(n=h(o).find("audio"))[0]).volume=parseFloat(t.volume),n.muted=!1,void 0!==(i=n.play())&&i.then(function(){}).catch(function(e){console.log("error: ",e)}))})},h.notificationXProPublic.shortcodeRender=function(t,e){var o=document.createElement("div");o.classList.add("notificationx-conversions-shortcode"),o.insertAdjacentHTML("beforeend",e);var n=0,i=o.querySelectorAll(".notificationx-"+t.id),r=t.delay_between,a=h.notificationx.last(t.id,!1);0<=a&&(n=a+1),1===i.length&&(n=0),0===t.loop&&1===i.length&&(n=0),h("body").trigger("nx_before_render",[t,e]),setTimeout(function(){h.notificationXProPublic.shortcodeShow(i[n],t,n),setTimeout(function(){0!==t.loop&&h.notificationXProPublic.shortcodeHide(i[n],n),n++;var e=setInterval(function(){h.notificationXProPublic.shortcodeShow(i[n],t,n),setTimeout(function(){h.notificationXProPublic.shortcodeHide(i[n],n),n>=i.length-1?(n=0)===t.loop&&clearInterval(e):n++},t.display_for)},r+t.display_for)},t.display_for)},t.delay_before)},h.notificationXProPublic.shortcodeShow=function(e,t,o){var n,i,r;void 0!==e&&0!==e.length&&(n=h(".notificationx-shortcode-wrapper > div"),i=h("body"),h(n[o]).addClass("nx-animate").animate({opacity:1},500),i.trigger("nx_frontend_jquery",[t,e]),null!=(r=h(e).find(".notificationx-close"))&&r.on("click",function(e){var t=h(this),o=h(t[0]).parents(".nx-notification");h.notificationXProPublic.shortcodeHide(o)}))},h.notificationXProPublic.shortcodeHide=function(e,t){var o;void 0!==e&&(Cookies.get("nx-close-for-session")||(o=h(".notificationx-shortcode-wrapper > div"),h(o[t]).animate({opacity:0},500,"swing",function(){h(this).removeClass("nx-animate")})))}}(jQuery);